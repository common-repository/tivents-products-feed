(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,o=window.wp.blocks,a=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,c=window.wp.apiFetch;var r=e.n(c);const i=JSON.parse('{"UU":"tivents/product-list"}'),d=(0,t.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,t.createElement)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"}));(0,o.registerBlockType)(i.UU,{icon:d,edit:function({attributes:e,setAttributes:o}){const{activated:c,productId:i,showTitle:d,showChildren:h,displayType:s,showImage:p,showDescription:u,productName:g="Product not found"}=e;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,a.__)("TIVENTS Product ID","copyright-date-block")},(0,t.createElement)(l.ToggleControl,{checked:c,label:(0,a.__)("Add product id","copyright-date-block"),onChange:()=>o({activated:!c})}),c&&(0,t.createElement)(l.TextControl,{label:(0,a.__)("Product ID","copyright-date-block"),value:i,onChange:function(e){o({productId:e}),""===e?o({productName:"Product not found"}):r()({path:"tivents/api/v1/products?id="+e}).then((e=>{e.hasOwnProperty("id")?o({productName:e.name}):o({productName:"Product not found"})}))}}),c&&i&&(0,t.createElement)(l.Button,{variant:"secondary",label:(0,a.__)("Set title","copyright-date-block"),onClick:function(){r()({path:"tivents/api/v1/products?id="+i}).then((e=>{wp.data.dispatch("core/editor").editPost({title:e.name}),o({productName:e.name})}))}},"Set Title")),c&&i&&(0,t.createElement)(l.PanelBody,{title:(0,a.__)("TIVENTS Design Settings","copyright-date-block")},(0,t.createElement)(l.ToggleControl,{checked:d,label:(0,a.__)("Show Title","copyright-date-block"),value:d,onChange:e=>o({showTitle:e})}),(0,t.createElement)(l.ToggleControl,{checked:p,label:(0,a.__)("Show image","copyright-date-block"),onChange:()=>o({showImage:!p})}),(0,t.createElement)(l.ToggleControl,{checked:u,label:(0,a.__)("Show description","copyright-date-block"),onChange:()=>o({showDescription:!u})}),(0,t.createElement)(l.ToggleControl,{checked:h,label:(0,a.__)("Show children","copyright-date-block"),onChange:()=>o({showChildren:!h})}),h&&(0,t.createElement)(l.SelectControl,{label:(0,a.__)("Display type","copyright-date-block"),value:s,options:[{label:"List",value:"list"},{label:"Grid",value:"grid"},{label:"Calendar",value:"calendar"}],onChange:e=>o({displayType:value}),__nextHasNoMarginBottom:!0}))),(0,t.createElement)("p",{...(0,n.useBlockProps)()},g))},save:function({attributes:e}){const{productId:o,showChildren:a,displayType:l,showImage:c,showDescription:r}=e;return o?(0,t.createElement)("p",{...n.useBlockProps.save()},o):null}})})();